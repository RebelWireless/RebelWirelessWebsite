<div class="py-24 px-4 bg-black text-gray-300">
  <div class="max-w-screen-xl mx-auto text-center">
    <h2 class="text-4xl font-bold text-white mb-12">What Our Customers Say</h2>

    <div class="relative overflow-hidden">
      <!-- Carousel wrapper -->
      <div id="carousel" class="flex transition-transform duration-500 ease-in-out">
        {% for t in testimonials %}
        <div class="flex-shrink-0 w-full px-4 md:px-6"> <!-- key: w-full + flex-shrink-0 -->
          <div class="bg-zinc-900 border border-zinc-800 rounded-lg shadow p-8 hover:border-red-600 hover:shadow-lg h-full">
            <div class="flex items-center mb-6">
              <img class="w-16 h-16 rounded-full mr-5 flex-shrink-0" src="{{ t.avatar }}" alt="{{ t.name }}">
              <div class="text-left">
                <h3 class="text-white font-semibold text-lg">{{ t.name }}</h3>
                <p class="text-gray-500 font-medium text-sm">{{ t.role }}</p>
              </div>
            </div>
            <p class="text-gray-300 font-normal text-left text-base">{{ t.text }}</p>
          </div>
        </div>
        {% endfor %}
      </div>

      <!-- Carousel Controls -->
      <button id="prev" class="absolute left-0 top-1/2 transform -translate-y-1/2 bg-zinc-800 hover:bg-zinc-700 text-white p-3 rounded-full shadow-lg z-10">
        &#10094;
      </button>
      <button id="next" class="absolute right-0 top-1/2 transform -translate-y-1/2 bg-zinc-800 hover:bg-zinc-700 text-white p-3 rounded-full shadow-lg z-10">
        &#10095;
      </button>
    </div>
  </div>
</div>

<script>
const carousel = document.getElementById('carousel');
const items = carousel.children;
let index = 0;

document.getElementById('next').addEventListener('click', () => {
    index = (index + 1) % items.length;
    carousel.style.transform = `translateX(-${index * 100}%)`;
});

document.getElementById('prev').addEventListener('click', () => {
    index = (index - 1 + items.length) % items.length;
    carousel.style.transform = `translateX(-${index * 100}%)`;
});
</script>
